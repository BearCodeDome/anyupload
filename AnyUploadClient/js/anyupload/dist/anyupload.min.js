!function(t){t.anyupload||(t.anyupload={});t.anyupload.byteUtil=new function(){this.B_SIZE=1024,this.KB_SIZE=1048576,this.MB_SIZE=1073741824,this.getSpeed=function(t,i){var s=i/(.001*t);return s<this.B_SIZE?s.toFixed(2)+"B/S":s<this.KB_SIZE?(s/this.B_SIZE).toFixed(2)+"KB/S":(s/this.KB_SIZE).toFixed(2)+"MB/S"},this.getByte=function(t,i,s,e){return t<this.B_SIZE?t+"B":t<this.KB_SIZE?null!==i?(t/this.B_SIZE).toFixed(i)+"KB":(t/this.B_SIZE).toFixed(2)+"KB":t<this.MB_SIZE?null!==s?(t/this.KB_SIZE).toFixed(s)+"MB":(t/this.KB_SIZE).toFixed(2)+"MB":null!==e?(t/this.MB_SIZE).toFixed(e)+"GB":(t/this.MB_SIZE).toFixed(2)+"GB"}}}(window),function(t){t.anyupload||(t.anyupload={});t.anyupload.fileConfig=new function(){this.SLICE=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,this.INCREMENT_ID=1,this.MAX_MD5_MAKE_FILE_NUM=5,this.MAX_MD5_CHECK_FILE_NUM=5,this.MAX_UPLOAD_FILE_NUM=5,this.READ_CHUNK_SIZE=1048576,this.STATUS_INIT=1,this.STATUS_START_MD5_CHECK=2,this.STATUS_READ_FILE_FAIL=3,this.STATUS_MD5_SUCCESS=4,this.STATUS_ENTER_MD5CHECK_ARRAY=5,this.STATUS_START_MD5CHECK=6,this.STATUS_MD5_CHECK_SUCCESS=7,this.STATUS_MD5_CHECK_FAIL=8,this.STATUS_MD5_MOMENT_UPLOAD=9,this.STATUS_ENTER_WAIT_UPLOAD_ARRAY=10,this.STATUS_REQUEST_UPLOAD=11,this.STATUS_RESPONSE_UPLOAD_SUCCESS=12,this.STATUS_RESPONSE_UPLOAD_FAIL=13,this.STATUS_UPLOAD_SUCCESS=14,this.getIncrementId=function(){return"uploadFile_"+this.INCREMENT_ID++}}}(window),function(t){t.anyupload||(t.anyupload={});t.anyupload.notificationExt=new function(){this.MD5_CHECK_SUCCESS="md5CheckSuccess",this.MD5_CHECK_FAIL="md5CheckFail",this.UPLOAD_FILE_SUCCESS="uploadFileSuccess",this.UPLOAD_FILE_FAIL="uploadFileFail"}}(window),function(t){t.anyupload||(t.anyupload={});t.anyupload.postfixUtil=new function(){this.postfixToClass=[],this.postfixToClass.ai="fileicon_ai",this.postfixToClass.doc="fileicon_doc",this.postfixToClass.docx="fileicon_doc",this.postfixToClass.jpg="fileicon_jpg",this.postfixToClass.jpeg="fileicon_jpg",this.postfixToClass.pdf="fileicon_pdf",this.postfixToClass.png="fileicon_png",this.postfixToClass.ppt="fileicon_ppt",this.postfixToClass.pptx="fileicon_ppt",this.postfixToClass.psd="fileicon_psd",this.postfixToClass.xls="fileicon_xls",this.postfixToClass.txt="fileicon_txt",this.getClassByFileName=function(t){var i=t.toLowerCase().split(".");return 1===i.length?"fileicon_qitageshi":null===this.postfixToClass[i[i.length-1]]||void 0===this.postfixToClass[i[i.length-1]]?"fileicon_qitageshi":this.postfixToClass[i[i.length-1]]}}}(window),function(t){t.anyupload||(t.anyupload={});t.anyupload.uploadEventType=new function(){this.ADD_WAIT_MD5_ARRAY="addWaitMd5Array",this.ADD_MD5_CHECK_ARRAY_AND_LOAD="addMd5CheckArrayAndLoad",this.ADD_MD5_CHECK_ARRAY="addMd5CheckArray",this.ADD_WAIT_CHECK_ARRAY="addWaitCheckArray",this.ADD_CHECK_ARRAY="addCheckArray",this.ADD_WAIT_UPLOAD_ARRAY="addWaitUploadArray",this.ADD_UPLOAD_ARRAY="addUploadArray",this.UPLOAD_COMPLETE="uploadComplete",this.CHANGE_USER_FOLD="changeUserFold",this.OPEN_CANCEL_CHOOSE_BOX="openCancelChooseBox"}}(window),function(t){t.anyupload||(t.anyupload={});t.anyupload.fileSystemStatus=new function(){this.nowFoldId="rootId",this.nowFoldName="root"}}(window),function(t){t.anyupload||(t.anyupload={});var i=t.anyupload.notificationExt;t.anyupload.uploadFileProxy=new function(){juggle.Proxy.apply(this),this.url=null,this.checkMD5=function(t,i,s,e,a,h){var l={hOpCode:"50000",fileBaseMd5:i,userFileName:s,userFoldParentId:e,fileBaseTotalSize:a,userFileId:h},o={data:l,uploadFileId:t},n=new juggle.HttpClient;n.sendParam=o,n.send(l,this.url,null),n.addEventListener(juggle.httpEventType.SUCCESS,this.checkMD5Success,this),n.addEventListener(juggle.httpEventType.ERROR,this.checkMD5Fail,this)},this.checkMD5Success=function(t){var s=JSON.parse(t.mData),e=t.mTarget.sendParam;"49999"!==s.hOpCode?(null!==s.fileBasePos&&void 0!==s.fileBasePos||(s.fileBasePos=0),this.notifyObservers(this.getNotification(i.MD5_CHECK_SUCCESS,{result:s,sendParam:e}))):this.notifyObservers(this.getNotification(i.MD5_CHECK_FAIL,{result:s,sendParam:e}))},this.checkMD5Fail=function(t){var s=t.mTarget.sendParam;this.notifyObservers(this.getNotification(i.MD5_CHECK_FAIL,{result:null,sendParam:s}))},this.uploadFile=function(t,i,s,e,a){var h={hOpCode:"50001",userFileId:i,fileBasePos:s,uploadLength:e},l={data:h,uploadFileId:t},o=new juggle.HttpClient;o.sendParam=l,o.sendFile(a,h,this.url,null),o.addEventListener(juggle.httpEventType.SUCCESS,this.uploadFileSuccess,this),o.addEventListener(juggle.httpEventType.ERROR,this.uploadFileFail,this)},this.uploadFileSuccess=function(t){var s=JSON.parse(t.mData),e=t.mTarget.sendParam;"49999"!==s.hOpCode?(null!==s.fileBasePos&&void 0!==s.fileBasePos||(s.fileBasePos=0),this.notifyObservers(this.getNotification(i.UPLOAD_FILE_SUCCESS,{result:s,sendParam:e}))):this.notifyObservers(this.getNotification(i.UPLOAD_FILE_FAIL,{result:s,sendParam:e}))},this.uploadFileFail=function(t){var s=t.mTarget.sendParam;this.notifyObservers(this.getNotification(i.UPLOAD_FILE_FAIL,{result:null,sendParam:s}))}}}(window),function(t){t.anyupload||(t.anyupload={});var i=t.anyupload.byteUtil,s=t.anyupload.fileConfig,e=t.anyupload.fileSystemStatus,a=t.anyupload.postfixUtil,h=t.anyupload.uploadEventType,l=t.anyupload.uploadFileProxy;t.anyupload.UploadFileObj=function(){this.file=null,this.id=null,this.view=null,this.sparkMD5=null,this.fileReader=null,this.currentChunk=null,this.totalChunk=null,this.md5=null,this.onLoadFunc=null,this.onErrorFunc=null,this.status=null,this.userFileId=null,this.resultData=null,this.lastTime=null,this.nowFoldId=null,this.nowFoldName=null,this.isStop=!1,this.isCancel=!1,this.isLoad=!1,this.createView=function(t){var s=document.createElement("li"),e='<div class="info"><div class="file_name clearfix"><span class="file_icon '+a.getClassByFileName(this.file.name)+'"></span><p title="'+this.file.name+'">'+this.file.name+'</p></div><div class="file_size" title="'+i.getByte(this.file.size)+'">'+i.getByte(this.file.size)+'</div><div class="file_path"><a href="javascrtipt:;" title="'+this.nowFoldName+'" id="'+this.id+'_fold">'+this.nowFoldName+'</a></div><div class="file_status"><div class="processBox_PJY"><p><span id="'+this.id+'_progress"></span></p></div><span class="alreadyP_PJY" id="'+this.id+'_text"></span></div><div class="file_operate"><div class="pause" id="'+this.id+'_stop"></div><div class="start" id="'+this.id+'_start"></div>&nbsp;&nbsp;&nbsp;&nbsp;<div id="'+this.id+'_retry"></div><div class="cancel" id="'+this.id+'_cancel"></div></div><div class="clear"></div></div>';s.innerHTML=e,this.view=$(s)},this.updateView=function(t){$("#"+this.id+"_text").text(t)},this.updateProgress=function(t){$("#"+this.id+"_progress").attr({style:"width:"+t})},this.init=function(t,i){this.file=t,this.id=i,this.sparkMD5=new SparkMD5.ArrayBuffer,this.fileReader=new FileReader,this.currentChunk=0,this.totalChunk=Math.ceil(this.file.size/s.READ_CHUNK_SIZE),this.status=s.STATUS_INIT,this.nowFoldId=e.nowFoldId,this.nowFoldName=e.nowFoldName,this.createView("等待中.."),juggle.EventDispatcher.apply(this)},this.addListener=function(){this.onStartClickListener(this,this.onStartClick),this.onStopClickListener(this,this.onStopClick),this.onCancelClickListener(this,this.onCancelClick),this.onRetryClickListener(this,this.onRetryClick),this.onFoldClickListener(this,this.onFoldClick),$("#"+this.id+"_start").hide(),$("#"+this.id+"_retry").hide(),this.updateProgress("0%")},this.onStartClickListener=function(t,i){$("#"+this.id+"_start").on("click",function(s){i.call(t,s)})},this.onStopClickListener=function(t,i){$("#"+this.id+"_stop").on("click",function(s){i.call(t,s)})},this.onCancelClickListener=function(t,i){$("#"+this.id+"_cancel").on("click",function(s){i.call(t,s)})},this.onRetryClickListener=function(t,i){$("#"+this.id+"_retry").on("click",function(s){i.call(t,s)})},this.onFoldClickListener=function(t,i){$("#"+this.id+"_fold").on("click",function(s){i.call(t,s)})},this.onStartClick=function(){this.isStop&&(this.isStop=!1,$("#"+this.id+"_start").hide(),$("#"+this.id+"_stop").show(),this.status===s.STATUS_INIT?this.dispatchEventWith(h.ADD_WAIT_MD5_ARRAY):this.status===s.STATUS_START_MD5_CHECK?this.dispatchEventWith(h.ADD_MD5_CHECK_ARRAY_AND_LOAD):this.status===s.STATUS_MD5_SUCCESS?this.dispatchEventWith(h.ADD_MD5_CHECK_ARRAY):this.status===s.STATUS_ENTER_MD5CHECK_ARRAY?this.dispatchEventWith(h.ADD_WAIT_CHECK_ARRAY):this.status===s.STATUS_MD5_CHECK_SUCCESS?this.dispatchEventWith(h.ADD_CHECK_ARRAY):this.status===s.STATUS_ENTER_WAIT_UPLOAD_ARRAY?this.dispatchEventWith(h.ADD_WAIT_UPLOAD_ARRAY):this.status===s.STATUS_RESPONSE_UPLOAD_SUCCESS&&this.dispatchEventWith(h.ADD_UPLOAD_ARRAY))},this.onStopClick=function(){this.isStop=!0},this.onCancelClick=function(){this.status!==s.STATUS_REQUEST_UPLOAD&&this.status!==s.STATUS_RESPONSE_UPLOAD_SUCCESS?this.isCancel=!0:this.dispatchEventWith(h.OPEN_CANCEL_CHOOSE_BOX,this)},this.onRetryClick=function(){},this.onFoldClick=function(){this.dispatchEventWith(h.CHANGE_USER_FOLD)},this.stop=function(){$("#"+this.id+"_start").show(),$("#"+this.id+"_stop").hide(),this.updateView("暂停")},this.clear=function(){this.file=null,this.id=null,this.view=null,this.sparkMD5=null,this.fileReader.removeEventListener("load",this.onLoadFunc),this.fileReader.removeEventListener("error",this.onErrorFunc),this.fileReader=null},this.startMD5Make=function(){this.onLoadListener(this,this.onLoad),this.onErrorListener(this,this.onError),this.loadNext(),this.updateView("生成MD5.."),this.status=s.STATUS_START_MD5_CHECK},this.onLoadListener=function(t,i){this.onLoadFunc=function(s){i.call(t,s)},this.fileReader.addEventListener("load",this.onLoadFunc)},this.onErrorListener=function(t,i){this.onErrorFunc=function(s){i.call(t,s)},this.fileReader.addEventListener("error",this.onErrorFunc)},this.loadNext=function(){var t=this.currentChunk*s.READ_CHUNK_SIZE,i=t+s.READ_CHUNK_SIZE>=this.file.size?this.file.size:t+s.READ_CHUNK_SIZE;this.fileReader.readAsArrayBuffer(s.SLICE.call(this.file,t,i)),this.isLoad=!0},this.onLoad=function(t){if(this.isLoad=!1,this.sparkMD5.append(this.fileReader.result),++this.currentChunk<this.totalChunk){if(this.isStop||this.isCancel)return;this.loadNext(),this.updateView("MD5："+parseInt(this.currentChunk/this.totalChunk*100)+"%")}else this.md5=this.sparkMD5.end(),this.updateView("MD5完成"),this.status=s.STATUS_MD5_SUCCESS},this.onError=function(t){this.isLoad=!1,this.updateView("生成md5失败，读取文件异常"),this.status=s.STATUS_READ_FILE_FAIL,$("#"+this.id+"_start").hide(),$("#"+this.id+"_stop").hide()},this.enterMD5CheckArray=function(){this.status=s.STATUS_ENTER_MD5CHECK_ARRAY,this.updateView("等待校验..")},this.startMD5Check=function(){this.updateView("开始校验.."),this.isLoad=!0,this.status=s.STATUS_START_MD5CHECK,l.checkMD5(this.id,this.md5,this.file.name,this.nowFoldId,this.file.size,this.userFileId)},this.checkMD5Success=function(t){this.isLoad=!1,1===t.result?(this.status=s.STATUS_MD5_MOMENT_UPLOAD,this.updateView("急速上传!"),$("#"+this.id+"_start").hide(),$("#"+this.id+"_stop").hide(),this.updateProgress("100%"),this.dispatchEventWith(h.UPLOAD_COMPLETE)):(this.status=s.STATUS_MD5_CHECK_SUCCESS,this.resultData=t,this.userFileId=t.userFileId,this.updateView("校验完成"))},this.checkMD5Fail=function(t){this.isLoad=!1,this.status=s.STATUS_MD5_CHECK_FAIL,this.updateView("md5校验失败"),$("#"+this.id+"_start").hide(),$("#"+this.id+"_stop").hide()},this.enterWaitUploadArray=function(){this.status=s.STATUS_ENTER_WAIT_UPLOAD_ARRAY,this.updateView("等待中..")},this.startUploadFile=function(){this.updateView("开始上传"),this.lastTime=(new Date).getTime(),this.uploadFile(!0)},this.uploadFile=function(t){if(t||!((new Date).getTime()-this.lastTime<this.resultData.waitTime)){if(this.resultData.fileBasePos===this.file.size)return this.status=s.STATUS_UPLOAD_SUCCESS,this.updateView("上传完成"),$("#"+this.id+"_start").hide(),$("#"+this.id+"_stop").hide(),this.updateProgress("100%"),void this.dispatchEventWith(h.UPLOAD_COMPLETE);var i=this.resultData.fileBasePos+this.resultData.uploadMaxLength>=this.file.size?this.file.size:this.resultData.fileBasePos+this.resultData.uploadMaxLength,e=s.SLICE.call(this.file,this.resultData.fileBasePos,i);this.status=s.STATUS_REQUEST_UPLOAD,this.isLoad=!0,l.uploadFile(this.id,this.userFileId,this.resultData.fileBasePos,i-this.resultData.fileBasePos,[e])}},this.uploadFileSuccess=function(t){if(this.isLoad=!1,1===t.result)this.status=s.STATUS_MD5_MOMENT_UPLOAD,this.updateView("极速上传!"),$("#"+this.id+"_start").hide(),$("#"+this.id+"_stop").hide(),this.updateProgress("100%"),this.dispatchEventWith(h.UPLOAD_COMPLETE);else if(2===t.result){var e=this.resultData.fileBasePos+this.resultData.uploadMaxLength>=this.file.size?this.file.size:this.resultData.fileBasePos+this.resultData.uploadMaxLength;this.status=s.STATUS_RESPONSE_UPLOAD_SUCCESS;var a=(new Date).getTime(),l=a-this.lastTime;this.lastTime=a,this.updateView(i.getSpeed(l,e-this.resultData.fileBasePos)),this.resultData=t,this.updateProgress(this.resultData.fileBasePos/this.file.size*100+"%")}else this.status=s.STATUS_UPLOAD_SUCCESS,this.updateView("上传完成"),$("#"+this.id+"_start").hide(),$("#"+this.id+"_stop").hide(),this.updateProgress("100%"),this.dispatchEventWith(h.UPLOAD_COMPLETE)},this.uploadFileFail=function(t){this.isLoad=!1,this.status=s.STATUS_RESPONSE_UPLOAD_FAIL,this.updateView("md5校验失败"),$("#"+this.id+"_start").hide(),$("#"+this.id+"_stop").hide()}}}(window),function(t){t.anyupload||(t.anyupload={});var i=t.anyupload.fileConfig,s=t.anyupload.uploadEventType,e=t.anyupload.notificationExt,a=t.anyupload.UploadFileObj;t.anyupload.FileMediator=function(){this.uploadFileMap=[],this.waitMD5Array=[],this.md5Array=[],this.waitCheckArray=[],this.checkArray=[],this.waitUploadArray=[],this.uploadArray=[],this.closeArray=[],this.allNum=0,this.nowCompleteNum=0,this.ulContainer=null,this.uploadNumText=null,this.initView=function(t){this.createView(t),juggle.jugglerManager.juggler.add(this)},this.createView=function(t){var i=document.createElement("div"),s='<div class="uploadBoxT clearfix"><p class="fl" id="anyupload_num">正在上传（'+this.nowCompleteNum+"/"+this.allNum+'）</p><div class="fr"><i class="minimize"></i><i class="all_cancel"></i></div></div><div class="uploader_list_header"><div class="file_name">文件名</div><div class="file_size">大小</div><div class="file_path">上传目录</div><div class="file_status">状态</div><div class="file_operate">操作</div><div class="clear"></div></div><div class="uploadBoxB"><ul id="anyupload_ul"></ul></div>';i.innerHTML=s,t.append($(i)),this.ulContainer=$("#anyupload_ul"),this.uploadNumText=$("#anyupload_num")},this.listNotificationInterests=[e.MD5_CHECK_SUCCESS,e.MD5_CHECK_FAIL,e.UPLOAD_FILE_SUCCESS,e.UPLOAD_FILE_FAIL],this.handleNotification=function(t){var i,s;switch(t.name){case e.MD5_CHECK_SUCCESS:i=t.body.result,s=t.body.sendParam,this.uploadFileMap[s.uploadFileId].checkMD5Success(i);break;case e.MD5_CHECK_FAIL:i=t.body.result,s=t.body.sendParam,this.uploadFileMap[s.uploadFileId].checkMD5Fail(i);break;case e.UPLOAD_FILE_SUCCESS:i=t.body.result,s=t.body.sendParam,this.uploadFileMap[s.uploadFileId].uploadFileSuccess(i);break;case e.UPLOAD_FILE_FAIL:i=t.body.result,s=t.body.sendParam,this.uploadFileMap[s.uploadFileId].uploadFileFail(i)}},this.advanceTime=function(t){if(this.md5Array.length<i.MAX_MD5_MAKE_FILE_NUM){var s,e;for(s=0;s<this.waitMD5Array.length;s++)if((e=this.waitMD5Array.shift()).isStop)e.stop(),s--,this.closeArray.push(e);else if(e.isCancel)this.removeUploadFile(e),s--;else if(this.md5Array.push(e),e.startMD5Make(),s--,this.md5Array.length===i.MAX_MD5_MAKE_FILE_NUM)break}for(s=0;s<this.md5Array.length;s++)(e=this.md5Array[s]).isLoad||(e.isCancel?(this.md5Array.splice(s,1),this.removeUploadFile(e),s--):e.isStop?(this.md5Array.splice(s,1),s--,e.status!==i.STATUS_READ_FILE_FAIL&&e.stop(),this.closeArray.push(e)):e.status===i.STATUS_READ_FILE_FAIL?(this.md5Array.splice(s,1),s--,this.closeArray.push(e)):e.status===i.STATUS_MD5_SUCCESS&&(this.waitCheckArray.push(e),e.enterMD5CheckArray(),this.md5Array.splice(s,1),s--));if(this.checkArray.length<i.MAX_MD5_CHECK_FILE_NUM)for(s=0;s<this.waitCheckArray.length;s++)if((e=this.waitCheckArray.shift()).isStop)e.stop(),s--,this.closeArray.push(e);else if(e.isCancel)this.removeUploadFile(e),s--;else if(this.checkArray.push(e),e.startMD5Check(),s--,this.checkArray.length===i.MAX_MD5_CHECK_FILE_NUM)break;for(s=0;s<this.checkArray.length;s++)(e=this.checkArray[s]).isLoad||(e.isCancel?(this.checkArray.splice(s,1),this.removeUploadFile(e),s--):e.isStop?(this.checkArray.splice(s,1),s--,e.status!==i.STATUS_MD5_CHECK_FAIL&&e.status!==i.STATUS_MD5_MOMENT_UPLOAD&&e.stop(),this.closeArray.push(e)):e.status===i.STATUS_MD5_CHECK_SUCCESS?(this.waitUploadArray.push(e),e.enterWaitUploadArray(),this.checkArray.splice(s,1),s--):e.status===i.STATUS_MD5_CHECK_FAIL?(this.checkArray.splice(s,1),s--,this.closeArray.push(e)):e.status===i.STATUS_MD5_MOMENT_UPLOAD&&(this.checkArray.splice(s,1),s--,this.closeArray.push(e)));if(this.uploadArray.length<i.MAX_UPLOAD_FILE_NUM)for(s=0;s<this.waitUploadArray.length;s++)if((e=this.waitUploadArray.shift()).isStop)e.stop(),s--,this.closeArray.push(e);else if(e.isCancel)this.removeUploadFile(e),s--;else if(this.uploadArray.push(e),e.startUploadFile(),s--,this.uploadArray.length===i.MAX_UPLOAD_FILE_NUM)break;for(s=0;s<this.uploadArray.length;s++)(e=this.uploadArray[s]).isLoad||(e.isCancel?(this.uploadArray.splice(s,1),this.removeUploadFile(e),s--):e.isStop?(this.uploadArray.splice(s,1),s--,e.status!==i.STATUS_MD5_MOMENT_UPLOAD&&e.status!==i.STATUS_RESPONSE_UPLOAD_FAIL&&e.status!==i.STATUS_UPLOAD_SUCCESS&&e.stop(),this.closeArray.push(e)):e.status===i.STATUS_RESPONSE_UPLOAD_FAIL?(this.uploadArray.splice(s,1),s--,this.closeArray.push(e)):e.status===i.STATUS_MD5_MOMENT_UPLOAD?(this.uploadArray.splice(s,1),s--,this.closeArray.push(e)):e.status===i.STATUS_UPLOAD_SUCCESS?(this.uploadArray.splice(s,1),s--,this.closeArray.push(e)):e.status===i.STATUS_RESPONSE_UPLOAD_SUCCESS&&e.uploadFile(!1));for(s=0;s<this.closeArray.length;s++)(e=this.closeArray[s]).isCancel&&(this.closeArray.splice(s,1),this.removeUploadFile(e),s--)},this.upLoadFile=function(t){if(null!==t&&0!==t.length){for(var e=0;e<t.length;e++){var h=t[e],l=new a;l.init(h,i.getIncrementId()),this.ulContainer.append(l.view),l.addListener(),l.addEventListener(s.ADD_WAIT_MD5_ARRAY,this.addWaitMd5Array,this),l.addEventListener(s.ADD_MD5_CHECK_ARRAY_AND_LOAD,this.addMd5CheckArrayAndLoad,this),l.addEventListener(s.ADD_MD5_CHECK_ARRAY,this.addMd5CheckArray,this),l.addEventListener(s.ADD_WAIT_CHECK_ARRAY,this.addWaitCheckArray,this),l.addEventListener(s.ADD_CHECK_ARRAY,this.addCheckArray,this),l.addEventListener(s.ADD_WAIT_UPLOAD_ARRAY,this.addWaitUploadArray,this),l.addEventListener(s.ADD_UPLOAD_ARRAY,this.addUploadArray,this),l.addEventListener(s.UPLOAD_COMPLETE,this.onUploadComplete,this),l.addEventListener(s.OPEN_CANCEL_CHOOSE_BOX,this.onOpenCancelChooseBox,this),l.addEventListener(s.CHANGE_USER_FOLD,this.onChangeUserFold,this),this.waitMD5Array.push(l),this.uploadFileMap[l.id]=l,this.allNum++}this.uploadNumText.text("正在上传（"+this.nowCompleteNum+"/"+this.allNum+"）")}},this.removeUploadFile=function(t){t.view.remove(),this.allNum--,t.status!==i.STATUS_MD5_MOMENT_UPLOAD&&t.status!==i.STATUS_UPLOAD_SUCCESS||this.nowCompleteNum--,this.uploadNumText.text("正在上传（"+this.nowCompleteNum+"/"+this.allNum+"）"),delete this.uploadFileMap[t.id]},this.addWaitMd5Array=function(t){var i=t.mTarget;this.removeCloseArray(i),this.waitMD5Array.push(i)},this.addMd5CheckArrayAndLoad=function(t){var i=t.mTarget;this.removeCloseArray(i),this.md5Array.push(i),i.loadNext()},this.addMd5CheckArray=function(t){var i=t.mTarget;this.removeCloseArray(i),this.md5Array.push(i)},this.addWaitCheckArray=function(t){var i=t.mTarget;this.removeCloseArray(i),this.waitCheckArray.push(i)},this.addCheckArray=function(t){var i=t.mTarget;this.removeCloseArray(i),this.checkArray.push(i)},this.addWaitUploadArray=function(t){var i=t.mTarget;this.removeCloseArray(i),this.waitUploadArray.push(i)},this.addUploadArray=function(t){var i=t.mTarget;this.removeCloseArray(i),this.uploadArray.push(i)},this.removeCloseArray=function(t){for(var i=0;i<this.closeArray.length;i++)if(this.closeArray[i].id===t.id){this.closeArray.splice(i,1);break}},this.onUploadComplete=function(t){this.nowCompleteNum++,this.uploadNumText.text("正在上传（"+this.nowCompleteNum+"/"+this.allNum+"）")},this.onOpenCancelChooseBox=function(t){t.mTarget.isCancel=!0},this.onChangeUserFold=function(t){t.mTarget},juggle.Mediator.apply(this)}}(window);